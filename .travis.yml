sudo: false
dist: trusty
language: node_js
node_js:
- 10
cache:
  directories:
  - node_modules
before_script:
- chmod +x scripts/docs || true
script:
- npm run cover
after_script:
- npm run report-coverage
after_success:
- scripts/docs
before_deploy:
- echo 'Preparing to publish'
- npm run build-storybook
- npm run build
deploy:
  provider: npm
  email: dev@intxlog.com
  api_key:
    secure: YDmyo3Bxh7SjjRHGI2S3HC0lLw7H4zIOi1FRZihK4ZrH/enY73wl1fFWlWPCWU2WEcyU5YNsVw02u4OPrggcAGuCwJbxIHI6pI5D1CosKOlBdcn7ym02i9y7lifNW0qBFyTac71oUlZnrFBY2FG+H93jTmXYvZP4OtAvoCqc618LnyRHBKD9tJ3+450NzTn+iwiqWhfuNRQlgqQZxz90ZsN9ZT3vf+dKkM8Ot39fFdCiD7Gvm8bQZoHnrD9lCr+00BrUVsiBnAU+aJgAK7F0+/u3u7jiJifEhwGlyB+RN0jT43HgW5CkrIlR9EzaYclvTDZ9P3rctq2Y7xHW/DTHadP7VUJzSAG/3Ovlv+dAaQyltp4FZZZL1tTXFCtNNxzSXW5HTsjWKE0lk7OSYeSMPycVUV6nFeIbsMaL8X4Bu7TvEGqlp4OgbGrnoapfR2Thdc+DQ4QOa5Ym0q7H28GQucvuaYrUg+5W7Fkzsc7iA2suodg2y6CWD8EKXF7Ue/Kt7YjkfuhJ03ZuYno/NSqsYzfUBklt0FmpGVw2z6Qvop3crRgtYXGMsNQFWQzUka2aT+/Kdu52zCh+59EJZDMF0IRImY2mubCQMgYMligiR0PonU1jp/wnlE2WgPKnq//akMhRI1dpLwk8Yv7FoXDVqa4WFNKjIN6mkkH63DhRANs=
  skip_cleanup: true
  on:
    tags: true
    repo: intxlog/react-ui-library
